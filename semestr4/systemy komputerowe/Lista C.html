<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <title>
        Lista C - HackMD
    </title>
    <link rel="icon" type="image/png" href="https://hackmd.io/favicon.png">
    <link rel="apple-touch-icon" href="https://hackmd.io/apple-touch-icon.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" integrity="sha256-3iu9jgsy9TpTwXKb7bNQzqWekRX7pPK+2OLj3R922fo=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/octicons/3.5.0/octicons.min.css" integrity="sha256-QiWfLIsCT02Sdwkogf6YMiQlj4NE84MKkzEMkZnMGdg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.5.1/themes/prism.min.css" integrity="sha256-vtR0hSWRc3Tb26iuN2oZHt3KRUomwTufNIf5/4oeCyg=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@hackmd/emojify.js@2.1.0/dist/css/basic/emojify.min.css" integrity="sha256-UOrvMOsSDSrW6szVLe8ZDZezBxh5IoIfgTwdNDgTjiU=" crossorigin="anonymous" />
    <style>
        @charset "UTF-8";@import url(https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i|Source+Code+Pro:300,400,500|Source+Sans+Pro:300,300i,400,400i,600,600i|Source+Serif+Pro&subset=latin-ext);.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-emphasis,.hljs-quote,.hljs-string,.hljs-strong,.hljs-template-variable,.hljs-variable{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-attribute,.hljs-bullet,.hljs-literal,.hljs-number,.hljs-symbol{color:#0086b3}.hljs-built_in,.hljs-builtin-name{color:#005cc5}.hljs-name,.hljs-section{color:#63a35c}.hljs-tag{color:#333}.hljs-attr,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-selector-pseudo,.hljs-title{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}.markdown-body{font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#c00}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body blockquote,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e7e7e7;border:0}.markdown-body blockquote{font-size:16px;padding:0 1em;color:#777;border-left:.25em solid #ddd}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body kbd,.popover kbd{display:inline-block;padding:3px 5px;font-size:11px;line-height:10px;color:#555;vertical-align:middle;background-color:#fcfcfc;border:1px solid #ccc;border-bottom-color:#bbb;border-radius:3px;box-shadow:inset 0 -1px 0 #bbb}.markdown-body .loweralpha{list-style-type:lower-alpha}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#000;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 code,.markdown-body h1 tt,.markdown-body h2 code,.markdown-body h2 tt,.markdown-body h3 code,.markdown-body h3 tt,.markdown-body h4 code,.markdown-body h4 tt,.markdown-body h5 code,.markdown-body h5 tt,.markdown-body h6 code,.markdown-body h6 tt{font-size:inherit}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eee}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#777}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol.no-list,.markdown-body ul.no-list{padding:0;list-style-type:none}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{padding-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:700}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}.markdown-body table th{font-weight:700}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #ddd}.markdown-body table tr{background-color:#fff;border-top:1px solid #ccc}.markdown-body table tr:nth-child(2n){background-color:#f8f8f8}.markdown-body img{max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #ddd}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#333}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:0;padding-top:.2em;padding-bottom:.2em;margin:0;font-size:85%;background-color:rgba(0,0,0,.04);border-radius:3px}.markdown-body code:after,.markdown-body code:before,.markdown-body tt:after,.markdown-body tt:before{letter-spacing:-.2em;content:"\00a0"}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f7f7f7;border-radius:3px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body pre code:after,.markdown-body pre code:before,.markdown-body pre tt:after,.markdown-body pre tt:before{content:normal}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-line-num{padding:10px 8px 9px;text-align:right;background:#fff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:700;background:#f8f8f8;border-top:0}.news .alert .markdown-body blockquote{padding:0 0 0 40px;border:0 none}.activity-tab .news .alert .commits,.activity-tab .news .markdown-body blockquote{padding-left:0}.task-list-item{list-style-type:none}.task-list-item label{font-weight:400}.task-list-item.enabled label{cursor:pointer}.task-list-item+.task-list-item{margin-top:3px}.task-list-item-checkbox{float:left;margin:.31em 0 .2em -1.3em!important;vertical-align:middle;cursor:default!important}.markdown-body{padding-top:40px;padding-bottom:40px;max-width:758px;overflow:visible!important;position:relative}.markdown-body .emoji{vertical-align:top}.markdown-body pre{border:inherit!important}.markdown-body code{color:inherit!important}.markdown-body pre code .wrapper{display:-moz-inline-flex;display:-ms-inline-flex;display:-o-inline-flex;display:inline-flex}.markdown-body pre code .gutter{float:left;overflow:hidden;-webkit-user-select:none;user-select:none}.markdown-body pre code .gutter.linenumber{text-align:right;position:relative;display:inline-block;cursor:default;z-index:4;padding:0 8px 0 0;min-width:20px;box-sizing:content-box;color:#afafaf!important;border-right:3px solid #6ce26c!important}.markdown-body pre code .gutter.linenumber>span:before{content:attr(data-linenumber)}.markdown-body pre code .code{float:left;margin:0 0 0 16px}.markdown-body .gist .line-numbers{border-left:none;border-top:none;border-bottom:none}.markdown-body .gist .line-data{border:none}.markdown-body .gist table{border-spacing:0;border-collapse:inherit!important}.markdown-body code[data-gist-id]{background:none;padding:0}.markdown-body code[data-gist-id]:after,.markdown-body code[data-gist-id]:before{content:""}.markdown-body code[data-gist-id] .blob-num{border:unset}.markdown-body code[data-gist-id] table{overflow:unset;margin-bottom:unset}.markdown-body code[data-gist-id] table tr{background:unset}.markdown-body[dir=rtl] pre{direction:ltr}.markdown-body[dir=rtl] code{direction:ltr;unicode-bidi:embed}.markdown-body .alert>p{margin-bottom:0}.markdown-body pre.abc,.markdown-body pre.flow-chart,.markdown-body pre.graphviz,.markdown-body pre.mermaid,.markdown-body pre.sequence-diagram,.markdown-body pre.vega{text-align:center;background-color:inherit;border-radius:0;white-space:inherit;overflow:visible}.markdown-body pre.abc>code,.markdown-body pre.flow-chart>code,.markdown-body pre.graphviz>code,.markdown-body pre.mermaid>code,.markdown-body pre.sequence-diagram>code,.markdown-body pre.vega>code{text-align:left}.markdown-body pre.abc>svg,.markdown-body pre.flow-chart>svg,.markdown-body pre.graphviz>svg,.markdown-body pre.mermaid>svg,.markdown-body pre.sequence-diagram>svg,.markdown-body pre.vega>svg{max-width:100%;height:100%}.markdown-body pre>code.wrap{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}.markdown-body .alert>p,.markdown-body .alert>ul{margin-bottom:0}.markdown-body summary{display:list-item}.markdown-body summary:focus{outline:none}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>:not(summary){display:none}.markdown-body figure{margin:1em 40px}.markdown-body .mark,.markdown-body mark{background-color:#fff1a7}.vimeo,.youtube{cursor:pointer;display:table;text-align:center;background-position:50%;background-repeat:no-repeat;background-size:contain;background-color:#000;overflow:hidden}.vimeo,.youtube{position:relative;width:100%}.youtube{padding-bottom:56.25%}.vimeo img{width:100%;object-fit:contain;z-index:0}.youtube img{object-fit:cover;z-index:0}.vimeo iframe,.youtube iframe,.youtube img{width:100%;height:100%;position:absolute;top:0;left:0}.vimeo iframe,.youtube iframe{vertical-align:middle;z-index:1}.vimeo .icon,.youtube .icon{position:absolute;height:auto;width:auto;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;opacity:.3;transition:opacity .2s;z-index:0}.vimeo:hover .icon,.youtube:hover .icon{opacity:.6;transition:opacity .2s}.slideshare .inner,.speakerdeck .inner{position:relative;width:100%}.slideshare .inner iframe,.speakerdeck .inner iframe{position:absolute;top:0;bottom:0;left:0;right:0;width:100%;height:100%}.MJX_Assistive_MathML{display:none}.ui-infobar{position:relative;z-index:2;max-width:760px;margin:25px auto -25px;color:#777}.toc .invisable-node{list-style-type:none}.ui-toc{position:fixed;bottom:20px;z-index:998}.ui-toc.both-mode{margin-left:8px}.ui-toc.both-mode .ui-toc-label{height:40px;padding:10px 4px;border-top-left-radius:0;border-bottom-left-radius:0}.ui-toc-label{background-color:#e6e6e6;border:none;color:#868686;transition:opacity .2s}.ui-toc .open .ui-toc-label{opacity:1;color:#fff;transition:opacity .2s}.ui-toc-label:focus{opacity:.3;background-color:#ccc;color:#000}.ui-toc-label:hover{opacity:1;background-color:#ccc;transition:opacity .2s}.ui-toc-dropdown{margin-top:20px;margin-bottom:20px;padding-left:10px;padding-right:10px;max-width:45vw;width:25vw;max-height:70vh;overflow:auto;text-align:inherit}.ui-toc-dropdown>.toc{max-height:calc(70vh - 100px);overflow:auto}.ui-toc-dropdown[dir=rtl] .nav{padding-right:0;letter-spacing:.0029em}.ui-toc-dropdown a{overflow:hidden;text-overflow:ellipsis;white-space:pre}.ui-toc-dropdown .nav>li>a{display:block;padding:4px 20px;font-size:13px;font-weight:500;color:#767676}.ui-toc-dropdown .nav>li:first-child:last-child > ul,.ui-toc-dropdown .toc.expand ul{display:block}.ui-toc-dropdown .nav>li>a:focus,.ui-toc-dropdown .nav>li>a:hover{padding-left:19px;color:#000;text-decoration:none;background-color:transparent;border-left:1px solid #000}.ui-toc-dropdown[dir=rtl] .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav>li>a:hover{padding-right:19px;border-left:none;border-right:1px solid #000}.ui-toc-dropdown .nav>.active:focus>a,.ui-toc-dropdown .nav>.active:hover>a,.ui-toc-dropdown .nav>.active>a{padding-left:18px;font-weight:700;color:#000;background-color:transparent;border-left:2px solid #000}.ui-toc-dropdown[dir=rtl] .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav>.active>a{padding-right:18px;border-left:none;border-right:2px solid #000}.ui-toc-dropdown .nav .nav{display:none;padding-bottom:10px}.ui-toc-dropdown .nav>.active>ul{display:block}.ui-toc-dropdown .nav .nav>li>a{padding-top:1px;padding-bottom:1px;padding-left:30px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a{padding-right:30px}.ui-toc-dropdown .nav .nav>li>ul>li>a{padding-top:1px;padding-bottom:1px;padding-left:40px;font-size:12px;font-weight:400}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a{padding-right:40px}.ui-toc-dropdown .nav .nav>li>a:focus,.ui-toc-dropdown .nav .nav>li>a:hover{padding-left:29px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>a:hover{padding-right:29px}.ui-toc-dropdown .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown .nav .nav>li>ul>li>a:hover{padding-left:39px}.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:focus,.ui-toc-dropdown[dir=rtl] .nav .nav>li>ul>li>a:hover{padding-right:39px}.ui-toc-dropdown .nav .nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>a{padding-left:28px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>a{padding-right:28px}.ui-toc-dropdown .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown .nav .nav>.active>.nav>.active>a{padding-left:38px;font-weight:500}.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:focus>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active:hover>a,.ui-toc-dropdown[dir=rtl] .nav .nav>.active>.nav>.active>a{padding-right:38px}.markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,sans-serif}html[lang^=ja] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] .markdown-body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html .markdown-body[lang^=ja]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html .markdown-body[lang=zh-tw]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html .markdown-body[lang=zh-cn]{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica Neue,Helvetica,Roboto,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}html[lang^=ja] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html[lang=zh-tw] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html[lang=zh-cn] .ui-toc-dropdown{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}html .ui-toc-dropdown[lang^=ja]{font-family:Source Sans Pro,Helvetica,Arial,Meiryo UI,MS PGothic,ＭＳ\ Ｐゴシック,sans-serif}html .ui-toc-dropdown[lang=zh-tw]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft JhengHei UI,微軟正黑UI,sans-serif}html .ui-toc-dropdown[lang=zh-cn]{font-family:Source Sans Pro,Helvetica,Arial,Microsoft YaHei UI,微软雅黑UI,sans-serif}.ui-affix-toc{position:fixed;top:0;max-width:15vw;max-height:70vh;overflow:auto}.back-to-top,.expand-toggle,.go-to-bottom{display:block;padding:4px 10px;margin-top:10px;margin-left:10px;font-size:12px;font-weight:500;color:#999}.back-to-top:focus,.back-to-top:hover,.expand-toggle:focus,.expand-toggle:hover,.go-to-bottom:focus,.go-to-bottom:hover{color:#563d7c;text-decoration:none}.back-to-top,.go-to-bottom{margin-top:0}.ui-user-icon{width:20px;height:20px;display:block;border-radius:3px;margin-top:2px;margin-bottom:2px;margin-right:5px;background-position:50%;background-repeat:no-repeat;background-size:cover}.ui-user-icon.small{width:18px;height:18px;display:inline-block;vertical-align:middle;margin:0 0 .2em}.ui-infobar>small>span{line-height:22px}.ui-infobar>small .dropdown{display:inline-block}.ui-infobar>small .dropdown a:focus,.ui-infobar>small .dropdown a:hover{text-decoration:none}.ui-published-note{color:#337ab7}.ui-published-note .fa{font-size:20px;vertical-align:top}.unselectable{-webkit-user-select:none;-o-user-select:none;user-select:none}.selectable{-webkit-user-select:text;-o-user-select:text;user-select:text}@media print{blockquote,div,img,pre,table{page-break-inside:avoid!important}a[href]:after{font-size:12px!important}}.markdown-body.slides{position:relative;z-index:1;color:#222}.markdown-body.slides:before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;background-color:currentColor;box-shadow:0 0 0 50vw}.markdown-body.slides section[data-markdown]{position:relative;margin-bottom:1.5em;background-color:#fff;text-align:center}.markdown-body.slides section[data-markdown] code{text-align:left}.markdown-body.slides section[data-markdown]:before{content:"";display:block;padding-bottom:56.23%}.markdown-body.slides section[data-markdown]>div:first-child{position:absolute;top:50%;left:1em;right:1em;transform:translateY(-50%);max-height:100%;overflow:hidden}.markdown-body.slides section[data-markdown]>ul{display:inline-block}.markdown-body.slides>section>section+section:after{content:"";position:absolute;top:-1.5em;right:1em;height:1.5em;border:3px solid #777}body{font-smoothing:subpixel-antialiased!important;-webkit-font-smoothing:subpixel-antialiased!important;-moz-osx-font-smoothing:auto!important;text-shadow:0 0 1em transparent,1px 1px 1.2px rgba(0,0,0,.004);-webkit-overflow-scrolling:touch;letter-spacing:.025em}.focus,:focus{outline:none!important}::-moz-focus-inner{border:0!important}body{font-family:Source Sans Pro,Helvetica,Arial,sans-serif}html[lang^=ja] body{font-family:Source Sans Pro,Helvetica,Arial,Hiragino Kaku Gothic Pro,ヒラギノ角ゴ Pro W3,Osaka,Meiryo,メイリオ,MS Gothic,ＭＳ\ ゴシック,sans-serif}html[lang=zh-tw] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang TC,Microsoft JhengHei,微軟正黑,sans-serif}html[lang=zh-cn] body{font-family:Source Sans Pro,Helvetica,Arial,PingFang SC,Microsoft YaHei,微软雅黑,sans-serif}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}abbr[data-original-title],abbr[title]{cursor:help}body.modal-open{overflow-y:auto;padding-right:0!important}
    </style>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" integrity="sha256-3Jy/GbSLrg0o9y5Z5n1uw0qxZECH7C6OQpVBgNFYa0g=" crossorigin="anonymous"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js" integrity="sha256-g6iAfvZp+nDQ2TdTR/VVKJf3bGro4ub5fvWSWVRi2NE=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/es5-shim/4.5.9/es5-shim.min.js" integrity="sha256-8E4Is26QH0bD52WoQpcB+R/tcWQtpzlCojrybUd7Mxo=" crossorigin="anonymous"></script>
    <![endif]-->
</head>

<body>
    <div id="doc" class="markdown-body container-fluid comment-enabled" data-hard-breaks="true" style="position: relative;"><h1 id="Lista-C"><a class="anchor hidden-xs" href="#Lista-C" title="Lista-C"><span class="octicon octicon-link"></span></a><span>Lista C</span></h1><h6 id="tags-systemy-komputerowe"><a class="anchor hidden-xs" href="#tags-systemy-komputerowe" title="tags-systemy-komputerowe"><span class="octicon octicon-link"></span></a><span>tags: </span><code>systemy komputerowe</code></h6><h3 id="Zad-1"><a class="anchor hidden-xs" href="#Zad-1" title="Zad-1"><span class="octicon octicon-link"></span></a><span>Zad 1</span></h3><blockquote>
<p><span>Zdefiniuj zjawisko </span><strong><span>zakleszczenia</span></strong><span> (ang. deadlock), </span><strong><span>uwięzienia</span></strong><span> (ang. livelock) i </span><strong><span>głodzenia</span></strong><span> (ang. starvation). Rozważmy ruch uliczny – kiedy na skrzyżowaniach może powstać każde z tych zjawisk? Zaproponuj metodę (a) </span><strong><span>wykrywania i usuwania</span></strong><span> zakleszczeń (b) </span><strong><span>zapobiegania</span></strong><span> zakleszczeniom. Pokaż, że nieudana próba zapobiegania zakleszczeniom może zakończyć się wystąpieniem zjawiska uwięzienia lub głodzenia.</span></p>
</blockquote><p><strong><span>Zakleszczenie (deadlock)</span></strong><span> - sytuacja, w której co najmniej dwie różne akcje czekają na siebie nawzajem, więc żadna nie może się zakończyć. Problem zakleszczenia występuje w wielozadaniowych systemach operacyjnych, gdzie wiele zadań w tym samym czasie konkuruje o wyłączny dostęp do zasobów.</span></p><p><span>Ruch uliczny:</span><br>
<img src="https://i.imgur.com/QbnNKba.png" alt=""><br>
<span>Każdy uczestnik ruchu musi ustąpić uczestnikowi po jego prawej stronie i naprzeci niego. Z tego względu wszyscy czekają i nikt nie pojedzie.</span></p><p><strong><span>Uwięzienie (livelock)</span></strong><span> – stanowi specjalny przypadek zagłodzenia. Występuje gdy obydwa procesy aby uniknąć deadlock’a zatrzymują wykonywanie kodu aby dać szansę innym wątkom na wykonanie się.</span></p><p><span>Ruch uliczny:</span><br>
<img src="https://i.imgur.com/BNlVxe8.png" alt=""><br>
<span>Uczestnicy ruchu drogowego jadą w przeciwnych kierunkach i nie mogą się minąć bo droga jest zbyt wąska. Obaj zaczynają cofać. Zauważają, że drugi uczestnik zaczął cofać, więc oboje przestają cofać i zaczynają jechać do przodu. Zatrzymują się, żeby się nie zderzyć i znowu zaczynają cofać.</span></p><p><strong><span>Zagłodzenie (starvation)</span></strong><span>. Mamy kilka wątków i jeśli algorytm lub architektura pozwala na to, że jeden proces nigdy nie będzie miał szansy wykonania się, wtedy mówimy o zagłodzeniu procesu.</span></p><p><span>Ruch uliczny:</span><br>
<img src="https://i.imgur.com/6KGtFCV.png" alt=""><br>
<span>Żółty proces jest głodzony w czasie gdy czerwone i niebieskie są wykonywane. Żółty nie może wjechać na ulicę, bo czerwone i niebieskie się po niej poruszają. Z tego powodu żółty nie może opuścić skrzyżowania.</span></p><p><span>Do zakleszczenia dojdzie, jeśli spełnione będą cztery warunki: wzajemne wykluczenie, trzymanie zasobu i oczekiwanie, cykliczne oczekiwanie, brak wywłaszczania z zasobu. Zapobieganie powstawaniu zakleszczeń polega więc na pozbyciu się przynajmniej jednego z tych warunków.</span></p><ul>
<li><span>Wzajemne wykluczenie - w danym czasie tylko jedno zadanie może korzystać z zasobu; w ogólności warunkiem do zakleszczenia jest też sytuacja w której do zasobu jest możliwy jednoczesny równoległy dostęp wielu zadań, lecz liczba jednocześnie zadanych żądań do zasobu jest większa od liczby maksymalnych równoległych dostępów do zasobu, które mogą zostać obsłużone; usunięcie warunku wzajemnego wykluczania oznacza, iż żaden proces nie może mieć wyłącznego dostępu do zasobu.</span></li>
<li><span>Trzymanie zasobu i oczekiwanie - zadanie utrzymuje jeden z zasobów, ale do ukończenia pracy niezbędne jest także zaalokowanie zasobów innego typu; zadanie może rozpocząć działanie dopiero w momencie dostępności wszystkich zasobów niezbędnych do jego zakończenia lub zadanie zwalnia wszystkie zajmowane zasoby przed żądaniem tych, które potrzebują. Metoda ta jest podatna na zagłodzenie, dla procesów które żądają wielu zasobów.</span></li>
<li><span>Cykliczne oczekiwanie - zadania w taki sposób żądają zasobów, że powstaje cykliczny graf skierowany; zapobieganie polega na ustaleniu określonej kolejności w jakiej muszą wystąpić żądania przydzielania konkretnych zasobów (zasoby są numerowane, indeksowane lub priorytetyzowane co określa jedyną możliwą kolejność ich zajmowania).</span></li>
<li><span>Brak wywłaszczania z zasobu - zadania dobrowolnie nie rezygnują z przydzielonych im zasobów; zwolnienie zasobów możliwe jest po zakończeniu zadania.</span></li>
</ul><p><strong><span>Likwidowanie zakleszczeń</span></strong><span> polega na zmuszeniu jakiegoś procesu (lub kilku procesów) do ustąpienia w rywalizacji o zasoby. Może to oznaczać:</span></p><ul>
<li><span>usunięcie procesu i zwolnienie wszystkich przydzielonych mu zasobów,</span></li>
<li><span>wywłaszczenie, czyli odebranie tych zasobów, których potrzebują inne procesy.</span></li>
</ul><h3 id="Zad-2"><a class="anchor hidden-xs" href="#Zad-2" title="Zad-2"><span class="octicon octicon-link"></span></a><span>Zad 2</span></h3><blockquote>
<p><span>W poniższym programie występuje </span><strong><span>sytuacja wyścigu</span></strong><span> (ang. race condition) dotycząca dostępów do współdzielonej zmiennej «tally». Wyznacz jej najmniejszą i największą możliwą wartość.</span></p>
</blockquote><pre><code class="c hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span></div><div class="code"><span class="token keyword">const</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
shared <span class="token keyword">int</span> tally <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> count <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> count<span class="token operator">++</span><span class="token punctuation">)</span>
    tally <span class="token operator">=</span> tally <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> parbegin <span class="token punctuation">(</span><span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    
</div></div></code></pre><blockquote>
<p><span>Dyrektywa «parbegin» rozpoczyna współbieżne wykonanie procesów. Maszyna wykonuje instrukcje arytmetyczne wyłącznie na rejestrach – tj. kompilator musi załadować wartość zmiennej «tally» do rejestru, przed wykonaniem dodawania. Jak zmieni się przedział możliwych wartości zmiennej «tally», gdy wystartujemy </span><em><span>k</span></em><span> procesów zamiast dwóch? Odpowiedź uzasadnij.</span></p>
</blockquote><p><strong><span>Wyścig</span></strong><span> (ang. race conditions) – sytuacja, w której dwa lub więcej procesów wykonuje operację na zasobach dzielonych, a ostateczny wynik tej operacji jest zależny od momentu jej realizacji</span><br>
<strong><span>2 podprocesy</span></strong><br>
<span>min=2</span></p><table>
<thead>
<tr>
<th style="text-align:center"><span>total()#1</span></th>
<th style="text-align:center"><span>total()#2</span></th>
<th style="text-align:center"><span>tally</span></th>
<th style="text-align:center"><span>reg1</span></th>
<th style="text-align:center"><span>reg2</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><span>load(tally, reg1)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>load(tally, reg2)</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>0</span></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>inc(reg2)</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>1</span></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>store(reg2, tally)</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>1</span></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>…</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>store(reg2, tally)</span></td>
<td style="text-align:center"><span>49</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>49</span></td>
</tr>
<tr>
<td style="text-align:center"><span>inc(reg1)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>49</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>49</span></td>
</tr>
<tr>
<td style="text-align:center"><span>store(reg1, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>49</span></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>load(tally, reg2)</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
</tr>
<tr>
<td style="text-align:center"><span>load(tally, reg1)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
</tr>
<tr>
<td style="text-align:center"><span>inc(reg1)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"><span>1</span></td>
</tr>
<tr>
<td style="text-align:center"><span>store(reg1, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"><span>1</span></td>
</tr>
<tr>
<td style="text-align:center"><span>…</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span>store(reg1, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>1</span></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>inc(reg2)</span></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>2</span></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>store(reg2, tally)</span></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>2</span></td>
</tr>
</tbody>
</table><p><strong><span>k podprocesów</span></strong><br>
<span>min=2</span></p><table>
<thead>
<tr>
<th style="text-align:center"><span>total()#1</span></th>
<th style="text-align:center"><span>total()#2</span></th>
<th style="text-align:center"><span>total()#3–#k</span></th>
<th style="text-align:center"><span>tally</span></th>
<th style="text-align:center"><span>reg1</span></th>
<th style="text-align:center"><span>reg2</span></th>
<th style="text-align:center"><span>reg3-regk</span></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><span>load(tally, reg1)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>load(tally, reg2)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>inc(reg2)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>store(reg2, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>…</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>store(reg2, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>49</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>49</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>…</span></td>
<td style="text-align:center"><span>x</span></td>
<td style="text-align:center"><span>0</span></td>
<td style="text-align:center"><span>49</span></td>
<td style="text-align:center"><span class="mathjax"><span class="MathJax_Preview" style="color: inherit;"></span><span id="MathJax-Element-20-Frame" class="mjx-chtml MathJax_CHTML" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><mi>i</mi><mo>&amp;#x2208;</mo><mn>3</mn><mo stretchy=&quot;false&quot;>[</mo><mo>,</mo><mi>k</mi><mo stretchy=&quot;false&quot;>]</mo></math>" role="presentation" style="font-size: 113%; position: relative;"><span id="MJXc-Node-203" class="mjx-math" aria-hidden="true"><span id="MJXc-Node-204" class="mjx-mrow"><span id="MJXc-Node-205" class="mjx-msubsup"><span class="mjx-base"><span id="MJXc-Node-206" class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.224em; padding-bottom: 0.279em;">x</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em;"><span id="MJXc-Node-207" class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.445em; padding-bottom: 0.279em;">i</span></span></span></span><span id="MJXc-Node-208" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.163em; padding-bottom: 0.556em;">,</span></span><span id="MJXc-Node-209" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.445em; padding-bottom: 0.279em;">i</span></span><span id="MJXc-Node-210" class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.279em; padding-bottom: 0.39em;">∈</span></span><span id="MJXc-Node-211" class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.39em; padding-bottom: 0.39em;">3</span></span><span id="MJXc-Node-212" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.445em; padding-bottom: 0.611em;">[</span></span><span id="MJXc-Node-213" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.163em; padding-bottom: 0.556em;">,</span></span><span id="MJXc-Node-214" class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.445em; padding-bottom: 0.279em;">k</span></span><span id="MJXc-Node-215" class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.445em; padding-bottom: 0.611em;">]</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>x</mi><mi>i</mi></msub><mo>,</mo><mi>i</mi><mo>∈</mo><mn>3</mn><mo stretchy="false">[</mo><mo>,</mo><mi>k</mi><mo stretchy="false">]</mo></math></span></span><script type="math/tex" id="MathJax-Element-20">x_i, i\in 3[,k]</script></span></td>
</tr>
<tr>
<td style="text-align:center"><span>inc(reg1)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>x</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>49</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span>store(reg1, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>49</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>load(tally, reg2)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span>load(tally, reg1)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span>inc(reg1)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span>store(reg1, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span>…</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"><span>store(reg1, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>1</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>inc(reg2)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"><span>store(reg2, tally)</span></td>
<td style="text-align:center"></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"><span>50</span></td>
<td style="text-align:center"><span>2</span></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table><p><strong><span>maksimum</span></strong><br>
<span>W zależności od </span><em><span>k</span></em><span>, masksymalne tally to 50</span><em><span>k. Każdy podproces wykonuje się bez zamrożenia stanu i przełączenia się na inny podproces, więc każdy wykonuje maksymalnie 50 inkrementacji, które mogą zwiększyć o 1 zmienną tally, więc odpowiedź to, 50</span></em><span>k.</span></p><h3 id="Zad-3"><a class="anchor hidden-xs" href="#Zad-3" title="Zad-3"><span class="octicon octicon-link"></span></a><span>Zad 3</span></h3><p><img src="https://i.imgur.com/aQM0tpY.png" alt=""></p><p><strong><span>Operacja atomowa</span></strong><span> - operacja, która na określonym poziomie abstrakcji jest niepodzielna.</span><br>
<img src="https://i.imgur.com/6oLeJ0P.png" alt=""></p><p><span>(a) błąd wykonania w linii 6 i 13:</span></p><ul>
<li><span>kolejka = empty, producer: </span><strong><span>2</span></strong><span>, consumer: 10</span></li>
<li><span>kolejka = empty, producer: </span><strong><span>3</span></strong><span>, consumer: 10</span></li>
<li><span>kolejka = empty, producer: </span><strong><span>4</span></strong><span>, consumer: 10</span></li>
<li><span>kolejka = empty, producer: </span><strong><span>6</span></strong><span>, consumer: 10</span></li>
<li><span>kolejka = 1, producer: </span><strong><span>7</span></strong><span>, consumer: 10</span></li>
<li><span>kolejka = 1, producer: 7, consumer: </span><strong><span>11-13</span></strong></li>
<li><span>kolejka = empty, producer: 7, consumer: </span><strong><span>14-16, 11, 12</span></strong></li>
<li><span>kolejka = empty, producer: </span><strong><span>8</span></strong><span>, consumer: 12</span></li>
<li><span>kolejka = empty, producer: 8, consumer </span><strong><span>13</span></strong><span> #błąd wykonania</span></li>
</ul><p><span>(b) zakleszczenie w liniach 5 i 12:</span></p><ul>
<li><span>kolejka = empty, producer: 2, consumer: </span><strong><span>10</span></strong></li>
<li><span>kolejka = empty, producer: 2, consumer: </span><strong><span>11</span></strong></li>
<li><span>kolejka = empty, producer: </span><strong><span>3, 6, 7</span></strong><span>, consumer: 11</span></li>
<li><span>kolejka = 1, producer: </span><strong><span>3, 6, 7</span></strong><span>, consumer: 11</span></li>
<li><span>kolejka = 2, producer: </span><strong><span>3, 6, 7</span></strong><span>, consumer: 11</span></li>
<li><span>…</span></li>
<li><span>kolejka = n, producer: </span><strong><span>3, 4</span></strong><span>, consumer: 11</span></li>
<li><span>kolejka = n, producer: 4, consumer: </span><strong><span>12</span></strong></li>
<li><span>kolejka = n, producer: </span><strong><span>5</span></strong><span>, consumer: 12 #zakleszczenie</span></li>
</ul><h3 id="Zad-4"><a class="anchor hidden-xs" href="#Zad-4" title="Zad-4"><span class="octicon octicon-link"></span></a><span>Zad 4</span></h3><p><img src="https://i.imgur.com/udnOwkK.png" alt=""></p><p><strong><span>Wzajemne wykluczanie</span></strong><span> - są używane w przetwarzaniu współbieżnym w celu uniknięcia równoczesnego użycia wspólnego zasobu (np. zmiennej globalnej) przez różne wątki/procesy w częściach kodu zwanych sekcjami krytycznymi, które są fragmentem kodu, gdzie wątki (lub procesy) odwołują się do wspólnego zasobu.</span></p><p><span>Program ten, gdy ustawia blocked na true, oznacza to, że chce on wejść do sekcji krytycznej. Dlatego program po uruchomieniu ustawia wartość blocked (o swoim id) na true. Wejdzie on do sekcji krytycznej, gdy będziemy mieć pewność, że drugi program nie chce tego zrobić. Wtedy wchodzimy do sekcji krytycznej i wykonujemy ją.</span></p><p><span>Kontrprzykład:</span></p><ul>
<li><span>dane początkowe:</span></li>
<li>
<ul>
<li><span>blocked = {false, false}</span></li>
</ul>
</li>
<li>
<ul>
<li><span>turn = 0</span></li>
</ul>
</li>
<li><span>rozpoczyna się program P1:</span></li>
<li>
<ul>
<li><span>ustawia blocked[1] na true</span></li>
</ul>
</li>
<li>
<ul>
<li><span>wchodzi do pętli while(turn != id) [0 != 1]</span></li>
</ul>
</li>
<li>
<ul>
<li><span>nie wchodzi do kolejnej pętli while(blocked[1-id]])[blocked[0]=false]</span></li>
</ul>
</li>
<li>
<ul>
<li><span>wstrzymuje swoje wykonanie, zostaje wywłaszczony</span></li>
</ul>
</li>
<li><span>aktualny stan:</span></li>
<li>
<ul>
<li><span>blocked = {false, true}</span></li>
</ul>
</li>
<li>
<ul>
<li><span>turn = 0</span></li>
</ul>
</li>
<li><span>rozpoczyna się program P0:</span></li>
<li>
<ul>
<li><span>ustawia blocked[0] na true</span></li>
</ul>
</li>
<li>
<ul>
<li><span>nie wchodzi do pętli while(turn != id)[0 != 0]</span></li>
</ul>
</li>
<li>
<ul>
<li><span>rozpoczyna wykonywanie sekcji krytycznej, zostaje wywłaszczony</span></li>
</ul>
</li>
<li><span>aktualny stan:</span></li>
<li>
<ul>
<li><span>blocked = {true, true}</span></li>
</ul>
</li>
<li>
<ul>
<li><span>turn = 0</span></li>
</ul>
</li>
<li><span>P1 wznawia pracę:</span></li>
<li>
<ul>
<li><span>ustawia turn = 1, wychodzi z pętli</span></li>
</ul>
</li>
<li>
<ul>
<li><span>wchodzi do sekcji krytycznej</span></li>
</ul>
</li>
</ul><p><span>Oba programy są jednocześnie w sekcji krytycznej, a więc program jest zawodny.</span></p><h3 id="Zad-5"><a class="anchor hidden-xs" href="#Zad-5" title="Zad-5"><span class="octicon octicon-link"></span></a><span>Zad 5</span></h3><p><strong><span>Algorytm Petersona</span></strong><span> rozwiązuje programowo problem wzajemnego wykluczania. Zreferuj poniższą wersję implementacji tego algorytmu dla dwóch procesów. Wykaż jego poprawność.</span><br>
<img src="https://i.imgur.com/xoQ9xCh.png" alt=""><br>
<span>Za pośrednictwem tablicy </span><em><strong><span>flag</span></strong></em><span> procesy informują się nawzajem o swoim stanie, a za pośrednictwem zmiennej </span><em><strong><span>turn</span></strong></em><span> rozstrzygają ewentualny konflikt. Wykonujemy równolegle procesy o </span><code>id = 0</code><span> i </span><code>id = 1</code><span>. W pierwszej kolejności (linijka 6) ustawiamy wartość </span><code>flag[id] = true</code><span>. To oznacza, że oba procesy chcą wejść do swojej sekcji krytycznej. Dalej ustawiamy zmienną </span><code>turn</code><span> na przeciwną swojemu </span><code>id</code><span>. W pętli </span><code>while</code><span> ustawiamy okres oczekiwania procesów na przyznanie dostępu do sekcji krytycznej. Dzięki temu mamy gwarancję, że nie nastąpi sytuacja, w której oba procesy znajdą się naraz w sekcji krytycznej, co może powodować zakleszczenia. W przypadku gdy proces skończy swoje działanie w sekcji krytycznej, powiadomi o tym drugi proces poprzez zmianę swojego stanu w tablicy </span><code>flag</code><span>. Wtedy drugi proces może spokojnie wejść do swojej sekcji krytycznej bez obawy o zakleszczenie.</span></p><p><span>Dlaczego to działa?</span></p><ul>
<li><span>Wzajemne wykluczanie. </span><code>P(0)</code><span> i </span><code>P(1)</code><span> nigdy nie będą w sekcji krytycznej razem. Jeśli </span><code>P(0)</code><span> jest w swojej sekcji krytycznej wtedy </span><code>flag[0] = true</code><span>. Wtedy albo </span><code>flag[1] = false</code><span> co oznacza, że </span><code>P(1)</code><span> opuścił już swoją sekcję krytyczną, albo </span><code>turn = 0</code><span>, co oznacza, że </span><code>P(1)</code><span> właśnie jest w fazie oczekiwania. Jeżeli oba procesy miałyby być w sekcji krytycznej zmienna </span><code>turn</code><span> musiałaby przyjąć wartość </span><code>0</code><span> i </span><code>1</code><span> naraz, co nie jest możliwe.</span></li>
<li><span>Postęp - brak zakleszczenia. Jeżeli żaden z procesów nie jest w swojej sekcji krytycznej, a istnieją procesy chcący uzyskać do niej dostęp to należy wybrać któryś z nich. Algorytm Petersona ustala na początku kolejność działania procesów i przyznaje im w tej kolejności dostęp do zasobów.</span></li>
<li><span>Żywotność - brak zagłodzenia. Algorytm Petersona przydziela dostęp do zasobów po kolei kolejnym procesom. Nie wystąpi sytuacja, w której jeden proces jest wykonywan raz za razem, podczas gry drugi głoduje, tzn. mamy sytuację 1-2-1-2-1-2-… i nie będzie sytuacji 1-1-1-1-1-…</span></li>
</ul><p><span>Algorytm Petersona zapewnia wzajemne wykluczanie, brak zagłodzenia oraz zakleszczenia, więc jest algorytmem poprawnym, bezpiecznym i żywotnym.</span></p><p><strong><span>sekcja krytyczna</span></strong><span> — fragment kodu wykonywany w trybie wyłącznym,</span></p><h3 id="Zad-6"><a class="anchor hidden-xs" href="#Zad-6" title="Zad-6"><span class="octicon octicon-link"></span></a><span>Zad 6</span></h3><h3 id="Zad-7"><a class="anchor hidden-xs" href="#Zad-7" title="Zad-7"><span class="octicon octicon-link"></span></a><span>Zad 7</span></h3><blockquote>
<p><span>Poniżej podano jedno z rozwiązań problemu </span><strong><span>ucztujących filozofów</span></strong><span> Zakładamy, że istnieją tylko leworęczni i praworęczni filozofowie, którzy podnoszą odpowiednio lewą i prawą pałeczkę jako pierwszą. Pałeczki są ponumerowane zgodnie z ruchem wskazówek zegara. Udowodnij, że jakikolwiek układ n ≥ 5 ucztujących filozofów z co najmniej jednym leworęcznym i praworęcznym zapobiega zakleszczeniom i głodzeniu.</span></p>
</blockquote><pre><code class="c hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span></div><div class="code">semaphore fork<span class="token punctuation">[</span>N<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</div></div></code></pre><pre><code class="c hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span></div><div class="code"><span class="token keyword">void</span> righthanded <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">while</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">think</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">P</span><span class="token punctuation">(</span>fork<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> mod N<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">P</span><span class="token punctuation">(</span>fork<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">V</span><span class="token punctuation">(</span>fork<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">V</span><span class="token punctuation">(</span>fork<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> mod N<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</div></div></code></pre><pre><code class="c hljs"><div class="wrapper"><div class="gutter linenumber"><span data-linenumber="1"></span>
<span data-linenumber="2"></span>
<span data-linenumber="3"></span>
<span data-linenumber="4"></span>
<span data-linenumber="5"></span>
<span data-linenumber="6"></span>
<span data-linenumber="7"></span>
<span data-linenumber="8"></span>
<span data-linenumber="9"></span>
<span data-linenumber="10"></span></div><div class="code"><span class="token keyword">void</span> lefthanded <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">while</span> <span class="token punctuation">(</span>true<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">think</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">P</span><span class="token punctuation">(</span>fork<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">P</span><span class="token punctuation">(</span>fork<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> mod N<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">V</span><span class="token punctuation">(</span>fork<span class="token punctuation">[</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> mod N<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token function">V</span><span class="token punctuation">(</span>fork<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</div></div></code></pre><p><span>Pięciu filozofów siedzi przy stole i każdy wykonuje jedną z dwóch czynności – albo je, albo rozmyśla. Stół jest okrągły, przed każdym z nich znajduje się miska ze spaghetti, a pomiędzy każdą sąsiadującą parą filozofów leży widelec, a więc każda osoba ma przy sobie dwie sztuki – po swojej lewej i prawej stronie. Ponieważ jedzenie potrawy jest trudne przy użyciu jednego widelca, zakłada się, że każdy filozof korzysta z dwóch. Dodatkowo nie ma możliwości skorzystania z widelca, który nie znajduje się bezpośrednio przed daną osobą. Problem ucztujących filozofów jest czasami przedstawiany przy użyciu ryżu, który musi być jedzony dwiema pałeczkami, co lepiej obrazuje sytuację.</span><br>
<strong><span>Dowod indukcyjny</span></strong></p><ul>
<li><span>Dla pięciu filozofów:</span>
<ul>
<li><span>1 leworęczny i 4 praworęcznych – trzech praworęcznych weźmie widelec, jeden widelec weźmie ostatni praworęczny albo leworęczny. W pierwszym przypadku praworęczny siedzący na prawo od leworęcznego ma wolny widelec, w drugim przypadku konkuruje on o widelec z leworęcznym, ale któryś z nich go dostanie – nie ma zakleszczeń ani wygłodzenia</span></li>
<li><span>2 leworęcznych siedzących obok siebie i 3 praworęcznych – leworęczny po prawej weźmie widelec, dwóch praworęcznych wexmie widelec, leworęczny po lewej i trzeci praworęczny będą konkurować o pierwszy widelec, a prawy leworęczny i jego praworęczny sąsiad będą konkurować o swój drugi widelec – któryś go dostanie, więc działa</span></li>
<li><span>2 leworęcznych nie siedzących obok siebie i 3 praworęcznych – </span><img src="https://i.imgur.com/TAGYFXw.png" alt=""></li>
</ul>
</li>
<li><span>Załóżmy, że teza zachodzi dla pewnej grupy n filozofów, dokładamy teraz do niej n+1-szego filozofa.</span>
<ul>
<li>
<p><span>trafia pomiędzy dwóch leworęcznych</span></p>
<ul>
<li>
<p><span>jest leworęczny </span><img src="https://i.imgur.com/Cbpi6Vg.png" alt=""><span> (z założenia działa)</span></p>
</li>
<li>
<p><span>jest praworęczny </span><img src="https://i.imgur.com/ti4xPdS.png" alt=""></p>
</li>
</ul>
</li>
<li>
<p><span>trafia pomiędzy dwóch praworęcznych</span></p>
<ul>
<li>
<p><span>jest leworęczny </span><img src="https://i.imgur.com/AnW2Gmv.png" alt=""></p>
</li>
<li>
<p><span>jest praworęczny </span><img src="https://i.imgur.com/LsVHeLx.png" alt=""><br>
<span>(z założenia działa)</span></p>
</li>
</ul>
</li>
<li>
<p><span>po lewej ma leworęcznego, po prawej praworęcznego</span></p>
<ul>
<li>
<p><span>jest leworęczny </span><img src="https://i.imgur.com/8u3ED1Q.png" alt=""></p>
</li>
<li>
<p><span>jest praworęczny </span><img src="https://i.imgur.com/oupwEc6.png" alt=""></p>
</li>
</ul>
</li>
<li>
<p><span>po lewej ma praworęcznego, po prawej leworęcznego</span></p>
<ul>
<li>
<p><span>jest leworęczny</span><br>
<img src="https://i.imgur.com/qZ7YsoR.png" alt=""><br>
<span>nie zakleszcza się, ponieważ przed dodaniem nowego filozofa, nie dało się przewidzieć, który z pozostałych weźmie środkowy widelec, co oznacza, że aby nie doszło do zakleszczenia, zarówno w4 jak i w1 musiały się w pewnym momencie zwolinić. Z tego wynika, że oba te widelce też się w końcu zwolnią w przypadku z dodatkowykm filozofem, więc unikniemy zakleszczenia.</span></p>
</li>
<li>
<p><span>jest praworęczny </span><img src="https://i.imgur.com/MJEs7FD.png" alt=""><span> jak wyżej</span></p>
</li>
</ul>
</li>
</ul>
</li>
</ul><h3 id="Zad-8"><a class="anchor hidden-xs" href="#Zad-8" title="Zad-8"><span class="octicon octicon-link"></span></a><span>Zad 8</span></h3></div>
    <div class="ui-toc dropup unselectable hidden-print" style="display:none;">
        <div class="pull-right dropdown">
            <a id="tocLabel" class="ui-toc-label btn btn-default" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false" title="Table of content">
                <i class="fa fa-bars"></i>
            </a>
            <ul id="ui-toc" class="ui-toc-dropdown dropdown-menu" aria-labelledby="tocLabel">
                <div class="toc"><ul class="nav">
<li class=""><a href="#Lista-C" title="Lista C">Lista C</a><ul class="nav">
<li><a href="#Zad-1" title="Zad 1">Zad 1</a></li>
<li><a href="#Zad-2" title="Zad 2">Zad 2</a></li>
<li><a href="#Zad-3" title="Zad 3">Zad 3</a></li>
<li><a href="#Zad-4" title="Zad 4">Zad 4</a></li>
<li><a href="#Zad-5" title="Zad 5">Zad 5</a></li>
<li><a href="#Zad-6" title="Zad 6">Zad 6</a></li>
<li class=""><a href="#Zad-7" title="Zad 7">Zad 7</a></li>
<li><a href="#Zad-8" title="Zad 8">Zad 8</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
            </ul>
        </div>
    </div>
    <div id="ui-toc-affix" class="ui-affix-toc ui-toc-dropdown unselectable hidden-print" data-spy="affix" style="top:17px;display:none;" null null>
        <div class="toc"><ul class="nav">
<li class=""><a href="#Lista-C" title="Lista C">Lista C</a><ul class="nav">
<li><a href="#Zad-1" title="Zad 1">Zad 1</a></li>
<li><a href="#Zad-2" title="Zad 2">Zad 2</a></li>
<li><a href="#Zad-3" title="Zad 3">Zad 3</a></li>
<li><a href="#Zad-4" title="Zad 4">Zad 4</a></li>
<li><a href="#Zad-5" title="Zad 5">Zad 5</a></li>
<li><a href="#Zad-6" title="Zad 6">Zad 6</a></li>
<li class=""><a href="#Zad-7" title="Zad 7">Zad 7</a></li>
<li><a href="#Zad-8" title="Zad 8">Zad 8</a></li>
</ul>
</li>
</ul>
</div><div class="toc-menu"><a class="expand-toggle" href="#">Expand all</a><a class="back-to-top" href="#">Back to top</a><a class="go-to-bottom" href="#">Go to bottom</a></div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gist-embed/2.6.0/gist-embed.min.js" integrity="sha256-KyF2D6xPIJUW5sUDSs93vWyZm+1RzIpKCexxElmxl8g=" crossorigin="anonymous" defer></script>
    <script>
        var markdown = $(".markdown-body");
        //smooth all hash trigger scrolling
        function smoothHashScroll() {
            var hashElements = $("a[href^='#']").toArray();
            for (var i = 0; i < hashElements.length; i++) {
                var element = hashElements[i];
                var $element = $(element);
                var hash = element.hash;
                if (hash) {
                    $element.on('click', function (e) {
                        // store hash
                        var hash = this.hash;
                        if ($(hash).length <= 0) return;
                        // prevent default anchor click behavior
                        e.preventDefault();
                        // animate
                        $('body, html').stop(true, true).animate({
                            scrollTop: $(hash).offset().top
                        }, 100, "linear", function () {
                            // when done, add hash to url
                            // (default click behaviour)
                            window.location.hash = hash;
                        });
                    });
                }
            }
        }

        smoothHashScroll();
        var toc = $('.ui-toc');
        var tocAffix = $('.ui-affix-toc');
        var tocDropdown = $('.ui-toc-dropdown');
        //toc
        tocDropdown.click(function (e) {
            e.stopPropagation();
        });

        var enoughForAffixToc = true;

        function generateScrollspy() {
            $(document.body).scrollspy({
                target: ''
            });
            $(document.body).scrollspy('refresh');
            if (enoughForAffixToc) {
                toc.hide();
                tocAffix.show();
            } else {
                tocAffix.hide();
                toc.show();
            }
            $(document.body).scroll();
        }

        function windowResize() {
            //toc right
            var paddingRight = parseFloat(markdown.css('padding-right'));
            var right = ($(window).width() - (markdown.offset().left + markdown.outerWidth() - paddingRight));
            toc.css('right', right + 'px');
            //affix toc left
            var newbool;
            var rightMargin = (markdown.parent().outerWidth() - markdown.outerWidth()) / 2;
            //for ipad or wider device
            if (rightMargin >= 133) {
                newbool = true;
                var affixLeftMargin = (tocAffix.outerWidth() - tocAffix.width()) / 2;
                var left = markdown.offset().left + markdown.outerWidth() - affixLeftMargin;
                tocAffix.css('left', left + 'px');
            } else {
                newbool = false;
            }
            if (newbool != enoughForAffixToc) {
                enoughForAffixToc = newbool;
                generateScrollspy();
            }
        }
        $(window).resize(function () {
            windowResize();
        });
        $(document).ready(function () {
            windowResize();
            generateScrollspy();
        });

        //remove hash
        function removeHash() {
            window.location.hash = '';
        }

        var backtotop = $('.back-to-top');
        var gotobottom = $('.go-to-bottom');

        backtotop.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToTop)
                scrollToTop();
            removeHash();
        });
        gotobottom.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            if (scrollToBottom)
                scrollToBottom();
            removeHash();
        });

        var toggle = $('.expand-toggle');
        var tocExpand = false;

        checkExpandToggle();
        toggle.click(function (e) {
            e.preventDefault();
            e.stopPropagation();
            tocExpand = !tocExpand;
            checkExpandToggle();
        })

        function checkExpandToggle () {
            var toc = $('.ui-toc-dropdown .toc');
            var toggle = $('.expand-toggle');
            if (!tocExpand) {
                toc.removeClass('expand');
                toggle.text('Expand all');
            } else {
                toc.addClass('expand');
                toggle.text('Collapse all');
            }
        }

        function scrollToTop() {
            $('body, html').stop(true, true).animate({
                scrollTop: 0
            }, 100, "linear");
        }

        function scrollToBottom() {
            $('body, html').stop(true, true).animate({
                scrollTop: $(document.body)[0].scrollHeight
            }, 100, "linear");
        }
    </script>
</body>

</html>
